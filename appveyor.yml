version: '0.3.0.{build}'

branches:
  only:
    - master
    - develop

configuration:
  - Debug
  - Release

platform:
  - Win32
  - x64

image: Visual Studio 2017

before_build:
- cmd: |-
    mkdir build
    cmake --version
    cmake . -Bbuild -G "Visual Studio 15 2017" -DCMAKE_BUILD_TYPE=%configuration% -A%platform%

build:
  project: c:\projects\MIPS32\build\MIPS32.sln
  verbosity: minimal
  parallel: true

test_script:
  - cmd: ctest -C %configuration% --output-on-failure